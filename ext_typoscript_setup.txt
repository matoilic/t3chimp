config.tx_extbase {
	persistence {
		enableAutomaticCacheClearing = 1
		updateReferenceIndex = 0
		classes {
			Tx_T3chimp_Domain_Model_FrontendUser {
				mapping {
					tableName = fe_users
				}
			}
		}
	}
}

plugin.tx_t3chimp {
	ajax = PAGE
    ajax {
        config {
            disableAllHeaderCode = 1
            disablePrefixComment = 1
            xhtml_cleaning = 0
            admPanel = 0
            no_cache = 1
            additionalHeaders = Content-type:application/json
            metaCharset = utf-8
        }
    }

    settings {
        countryLists = EXT:t3chimp/Resources/Private/Language/Countries
        apiKey = {$plugin.tx_t3chimp.settings.apiKey}
    }
}

[browser = msie]||[useragent = Trident]
plugin.tx_t3chimp.ajax.config.additionalHeaders = Content-type:text/plain
[global]

tx_t3chimp_subscriptions_ajax_page < plugin.tx_t3chimp.ajax
tx_t3chimp_subscriptions_ajax_page {
    typeNum = 1296728024

    settings =< plugin.tx_t3chimp.settings

    10 = USER_INT
    10 {
        userFunc = tx_t3chimp_core_bootstrap->run
        pluginName = subscription
        extensionName = T3chimp
        settings =< plugin.tx_t3chimp.settings
        persistence =< plugin.tx_t3chimp.persistence
        view =< plugin.tx_t3chimp.view

        switchableControllerActions {
            Subscriptions {
                1 = process
            }
        }
    }
}
